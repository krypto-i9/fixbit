(this["webpackJsonpbug-tracker"]=this["webpackJsonpbug-tracker"]||[]).push([[0],{23:function(e){e.exports=JSON.parse('{"HOME":"/","LOGIN":"/login","REGISTER":"/register"}')},80:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(0),i=a.n(r),c=a(7),s=a.n(c),l=(a(80),a(18)),o=a(44),u=a(11),j=a(36),d=Object(j.b)({name:"isLogged",initialState:{value:!1},reducers:{login:function(e){e.value=!0},logout:function(e){e.value=!1}}}),b=function(e){return e.isLogged.value},O=d.actions,h=O.login,m=(O.logout,d.reducer),p=a(23),f=Object(j.b)({name:"userData",initialState:{value:{uid:null,firstname:null,lastname:null,email:null}},reducers:{setUId:function(e,t){e.value.uid=t.payload},setFirstName:function(e,t){e.value.firstname=t.payload},setLastName:function(e,t){e.value.lastname=t.payload},setEmail:function(e,t){e.value.email=t.payload}}}),g=function(e){return e.userData.value.uid},x=function(e){return e.userData.value.firstname},v=function(e){return e.userData.value.lastname},y=function(e){return e.userData.value.email},S=f.actions,N=S.setUId,L=S.setFirstName,w=S.setLastName,C=S.setEmail,I=f.reducer,E=function(){var e=Object(l.e)(g),t=Object(l.e)(x),a=Object(l.e)(v),r=Object(l.e)(y);return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h1",{children:["Welcome ",t,"!"]}),Object(n.jsxs)("code",{children:[Object(n.jsx)("span",{children:"--\x3e"}),"Info"]}),Object(n.jsxs)("ul",{children:[Object(n.jsxs)("li",{children:["User Id : ",e]}),Object(n.jsxs)("li",{children:["First Name: ",t]}),Object(n.jsxs)("li",{children:["Last Name : ",a]}),Object(n.jsxs)("li",{children:["Email : ",r]}),Object(n.jsxs)("li",{children:["Build type: ","production"]})]})]})},F=a(29),D=a(127),R=a(129),T=a(130),k=a(126),G=a(132),P=a(131),W=a(133),q=a(39),M=a(43),z=function(e,t){return new Promise((function(a,n){var r={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)};fetch(e,r).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n(e)}))}))},_=function(e){0},J=Object(D.a)((function(e){return{root:{flexGrow:1,"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,marginTop:e.spacing(20),display:"flex",flexDirection:"column",alignItems:"center"}}})),B=function(){var e=J(),t=Object(l.d)(),a=i.a.useState(null),c=Object(F.a)(a,2),s=c[0],o=c[1],j=i.a.useState(null),d=Object(F.a)(j,2),b=d[0],O=d[1],m=Object(q.b)().enqueueSnackbar,f=Object(u.f)(),g=Object(r.useCallback)((function(){return f.push(p.HOME)}),[f]);return Object(n.jsx)("form",{className:e.root,validate:"true",autoComplete:"on",onSubmit:function(e){z("http://localhost/api/users/login.php",{email:s,password:b}).then((function(e){_(),e.success?(m("Success",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}}),t(N(e.user_data.uid)),t(L(e.user_data.firstname)),t(w(e.user_data.lastname)),t(C(e.user_data.email)),g(),t(h())):m(e.msg,{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"right"}})})).catch((function(e){alert(e)})),e.preventDefault()},children:Object(n.jsxs)(R.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(T.a,{}),Object(n.jsxs)(k.a,{className:e.paper,children:[Object(n.jsx)("h1",{children:"Login"}),Object(n.jsx)(G.a,{required:!0,fullWidth:!0,type:"email",variant:"outlined",label:"Email",onChange:function(e){o(e.target.value)}}),Object(n.jsx)(G.a,{required:!0,fullWidth:!0,type:"password",variant:"outlined",label:"Password",onChange:function(e){O(e.target.value)}}),Object(n.jsx)(P.a,{container:!0,justify:"flex-end",spacing:3,children:Object(n.jsx)(P.a,{item:!0,children:Object(n.jsx)(W.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})})}),Object(n.jsx)(M.a,{to:p.REGISTER,children:"Register"})]})]})})},H=Object(D.a)((function(e){return{root:{flexGrow:1,"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary,marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}})),U=function(){var e=H(),t=i.a.useState(null),a=Object(F.a)(t,2),c=a[0],s=a[1],l=i.a.useState(null),o=Object(F.a)(l,2),j=o[0],d=o[1],b=i.a.useState(null),O=Object(F.a)(b,2),h=O[0],m=O[1],f=i.a.useState(null),g=Object(F.a)(f,2),x=g[0],v=g[1],y=i.a.useState(null),S=Object(F.a)(y,2),N=S[0],L=S[1],w=Object(q.b)().enqueueSnackbar,C=Object(u.f)(),I=Object(r.useCallback)((function(){return C.push(p.LOGIN)}),[C]);return Object(n.jsx)("form",{className:e.root,validate:!0,autoComplete:"on",onSubmit:function(e){x===N?z("http://127.0.0.1/api/users/register.php",{firstname:c,lastname:j,email:h,password:x,c_password:N}).then((function(e){_(),e.success?(I(),w("Registration Success! Please Login.",{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"}})):w(e.msg,{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"right"}})})).catch((function(e){alert(e)})):w("Password and Confirm Password not match",{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"right"}}),e.preventDefault()},children:Object(n.jsxs)(R.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(T.a,{}),Object(n.jsxs)(k.a,{className:e.paper,children:[Object(n.jsx)("h1",{children:"Register"}),Object(n.jsx)(G.a,{required:!0,fullWidth:!0,type:"text",variant:"outlined",label:"First Name",onChange:function(e){s(e.target.value)}}),Object(n.jsx)(G.a,{required:!0,fullWidth:!0,type:"text",variant:"outlined",label:"Last Name",onChange:function(e){d(e.target.value)}}),Object(n.jsx)(G.a,{required:!0,fullWidth:!0,type:"email",variant:"outlined",label:"Email",onChange:function(e){m(e.target.value)}}),Object(n.jsx)(G.a,{required:!0,fullWidth:!0,type:"password",variant:"outlined",label:"Password",onChange:function(e){v(e.target.value)}}),Object(n.jsx)(G.a,{required:!0,fullWidth:!0,type:"password",variant:"outlined",label:"Retype Password",onChange:function(e){L(e.target.value)}}),Object(n.jsx)(P.a,{container:!0,justify:"flex-end",spacing:3,children:Object(n.jsx)(P.a,{item:!0,children:Object(n.jsx)(W.a,{type:"submit",variant:"contained",color:"primary",children:"Register"})})}),Object(n.jsx)(M.a,{to:p.LOGIN,children:"Login"})]})]})})},A=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(u.c,{children:Object(n.jsx)(u.a,{path:p.HOME,component:E})})})},K=function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:p.LOGIN,component:B}),Object(n.jsx)(u.a,{path:p.REGISTER,component:U})]})})};function Q(){var e=Object(u.f)(),t=Object(r.useCallback)((function(){return e.push(p.LOGIN)}),[e]);return Object(l.e)(b)?Object(n.jsx)(A,{}):(t(),Object(n.jsx)(K,{}))}var V=a(66),X=a(20),Y=a(61),Z=(a(86),a(21));var $,ee=Object(X.b)(),te=($=ee,Object(Z.c)({router:Object(o.b)($),isLogged:m,userData:I})),ae=Object(Y.a)(ee),ne=[].concat(Object(V.a)(Object(j.c)()),[ae]),re=function(){var e,t=Object(j.a)({reducer:te,middleware:ne,preloadedState:e});return Object(n.jsx)(q.a,{maxSnack:3,children:Object(n.jsx)(l.a,{store:t,children:Object(n.jsx)(o.a,{history:ee,children:Object(n.jsx)(Q,{})})})})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,134)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(re,{})}),document.getElementById("root")),ie()}},[[87,1,2]]]);
//# sourceMappingURL=main.9571c0a4.chunk.js.map